<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Alive Dual Reactor System</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: transparent;
  overflow: hidden;
}
.container {
  width: 520px;
  height: 220px;
  display: flex;
  gap: 24px;
  align-items: center;
  justify-content: center;
}
canvas {
  background: transparent;
  display: block;
}
</style>
</head>

<body>
<div class="container">
  <canvas id="weekly" width="240" height="220"></canvas>
  <canvas id="monthly" width="240" height="220"></canvas>
</div>

<script>
const API = "https://trading-dashboard-api-five.vercel.app/api/engine-ui";
let data = null;

/* ================= FETCH ================= */
async function fetchData() {
  try {
    const r = await fetch(API + "?t=" + Date.now(), { cache: "no-store" });
    data = await r.json();
  } catch {}
}
fetchData();
setInterval(fetchData, 10000);

const clamp = v => Math.max(0, Math.min(1, v));

function resolveState(d) {
  if (!d.hasTrades) return "IDLE";
  if (d.pl < 0) return "WARNING";
  if (d.pl === 0) return "BREAKEVEN";
  return "HEALTHY";
}

/* ================= REACTOR ================= */
function Reactor(canvas, baseColor, warningColor) {
  const ctx = canvas.getContext("2d");
  const C = { x: canvas.width / 2, y: canvas.height / 2 };
  const R = 64;
  const IR = 50;

  let wave = 0;